{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "Most Popular Tourisim Spots vs AirBnb Locations",
    "width": 800,
    "height": 800,
    "layer": [
    {
        "data": {
        "url": "https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/js/ne_50m.json",
        "format": {"type": "topojson", "feature":"ne_50m_ocean"}
        },
        "projection": {"type": "equirectangular"},
        "mark": {"type": "geoshape", "fill": "lightblue", "stroke":"white"}
    },
    {
        "data": {
        "url": "https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/js/ne_50m.json",
        "format": {"type": "topojson", "feature":"ne_50m_admin_1_states_provinces"}
        },
        "projection": {"type": "equirectangular"},
        "mark": {"type": "geoshape", "fill": "lightgoldenrodyellow", "stroke":"black"}
    },
    {
        "data":{
            "url":"https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/data/airBnbPos.csv"
        },
        "projection": {"type": "equirectangular"},
        "mark": {"type":"circle","fill":"palevioletred","stroke":"palevioletred"},
        "encoding": {
            "longitude": {"field":"longitude", "type": "quantitative"},
            "latitude": {"field":"latitude", "type": "quantitative"},
            "size": {
                "value":1
            }
        }
    },
    {
        "data": {
            "url":"https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/data/tourism.csv"
        },
        "params": [
            {
                "name":"purp",
                "select": {"type": "point", "fields":["Purpose"]},
                "bind": {"name":"Purpose of Trip","input":"select","options": ["Business","Visiting","Holiday","Other"]}
            }
        ],
        "transform": [
            {"filter":"datum['Purpose'] === purp"},
            {"filter": "datum['Purpose'] === 'Business' ||datum['Purpose'] === 'Visiting'|| datum['Purpose'] === 'Holiday'||datum['Purpose'] === 'Other'"}
        ],
        "projection": {"type": "equirectangular"},
        "mark": {
            "type": "circle"
            },
        "encoding": {
            "longitude": {"field": "Longitude", "type":"quantitative"},
            "latitude": {"field": "Latitude", "type":"quantitative"},
            "color": {
                "field": "Purpose",
                "type": "ordinal",
                "scale": {
                    "range": ["red","blue","green","purple"]
                }
            },
            "size": {
                "field": "Trips",
                "type": "quantitative"
            },
            "tooltip": [
                {"title":"Purpose","field":"Purpose","type":"nominal"},
                {"title":"State","field": "State", "type":"nominal"},
                {"title":"Trips","field": "Trips", "type":"quantitative", "format":".0f"}
            ]
        }
    },
    {
        "data": {
            "url":"https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/data/tourism.csv"
        },
        "transform": [
            {
                "filter": {
                    "field": "Region",
                    "oneOf": [
                        "Sydney", "Melbourne","Perth", "Darwin", "Canberra", "Brisbane", "Hobart","Adelaide"
                    ]
                }
            }
        ],
        "mark":"text",
        "encoding": {
            "text": {"field":"Region","type":"nominal"},
            "longitude": {"field":"longitude","type":"quantitative"},
            "latitude": {"field":"latitude","type":"quantitative"}
        }
    }
    ]
}