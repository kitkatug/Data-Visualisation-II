{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 500,
    "height": 500,
    "background":"#e8f5d0",
    "layer": [
    {
        "data": {
        "url": "https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/js/ne_50m.json",
        "format": {"type": "topojson", "feature":"ne_50m_ocean"}
        },
        "projection": {"type": "mercator"},
        "mark": {"type": "geoshape", "fill": "transparent", "stroke":"#e8f5d0"}
    },
    {
        "data": {
        "url": "https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/js/ne_50m.json",
        "format": {"type": "topojson", "feature":"ne_50m_admin_1_states_provinces"}
        },
        "projection": {"type": "mercator"},
        "mark": {"type": "geoshape", "fill": "lightgrey", "stroke":"white"}
    },
    {
        "data":{
            "url":"https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/data/airBnbPos.csv"
        },
        "transform": [
            {
                "filter": {
                    "field": "State",
                    "oneOf": [
                        "Victoria"
                    ]
                }
            }
        ],
        "projection": {"type": "mercator"},
        "mark": {"type":"circle","fill":"palevioletred","stroke":"palevioletred", "opacity":0.5},
        "encoding": {
            "longitude": {"field":"longitude", "type": "quantitative"},
            "latitude": {"field":"latitude", "type": "quantitative"},
            "size": {
                "value":1
            }
        }
    },
    {
        "data": {
            "url":"https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/data/tourism.csv"
        },
        "transform": [
            {
                "filter": {
                    "field": "State",
                    "oneOf": [
                        "Victoria"
                    ]
                }
            }
        ],
        "params": [
            {
                "name":"purp",
                "select": {"type": "point", "fields": ["Purpose"]},
                "bind": {
                    "input":"select",
                    "options": [null,"Business","Visiting","Holiday","Other"],
                    "labels": ["Show All","Business","Visiting","Holiday","Other"],
                    "name": "Purpose: "
                }
            }
        ],
        "projection": {"type": "mercator"},
        "mark": {
            "type": "circle"
            },
        "encoding": {
            "longitude": {"field": "Longitude", "type":"quantitative"},
            "latitude": {"field": "Latitude", "type":"quantitative"},
            "color": {
                "condition": {
                    "param": "purp",
                    "field": "Purpose",
                    "type": "ordinal",
                    "scale": {
                        "range": ["#05b514","#5eb5a7","#8c00e3","#c7130a"]
                    }
                },
                "value":null
            },
            "size": {
                "aggregate":"sum",
                "field": "Trips",
                "type": "quantitative"
            },
            "tooltip": [
                {"title":"Purpose","field":"Purpose","type":"nominal"},
                {"title":"State","field": "State", "type":"nominal"},
                {"title":"Trips","field": "Trips", "type":"quantitative", "format":".0f","aggregate":"sum"}
            ]
        }
    },
    {
        "data": {"url": "https://raw.githubusercontent.com/kitkatug/Data-Visualisation-II/main/data/tourism.csv"},
        "projection": {"type": "mercator"},
        "transform": [
            {
                "filter": {
                    "field": "Region",
                    "oneOf": [
                        "Melbourne"
                    ]
                }
            }
        ],
        "mark": {"type": "text","fontSize":15,"dx":35,"dy":25},
        "encoding": {
            "text": {"field": "Region","type": "nominal"},
            "longitude": {"field":"Longitude","type":"quantitative"},
            "latitude": {"field":"Latitude","type":"quantitative"}
        }
    }
    ],
    "config": {
      "style": {
        "cell": {
          "stroke": "#e8f5d0"
        }
      }
    }
}